from flask import Flask, render_template, jsonify, request, send_file
import os
from Bio import SeqIO
from Bio.Seq import Seq
from Bio.SeqRecord import SeqRecord
app=Flask(__name__)

PYTHON_INTERPRETER="python"
ROOT_FOLDER="/data/www_dev/crispr/lib/CSTB"
DATA_FOLDER="/data/databases/mobi/crispr"
CACHE_FOLDER="/data/dev/crispr"

#PYTHON_INTERPRETER="python3"


# Configure we application port and adresss



@app.route('/')
def rendu():	##HTML rendering upon url access
	return render_template('interface_layout.html')

@app.route('/allgenomes')
def ret():

	#dirtyString= "[{\"sequence\":\"TGAAAATCAAAGAGCAAACTAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(48306,48328);+(109437,109459);+(148895,148917);+(172941,172963);+(351678,351700);+(405542,405564);+(413165,413187);+(463793,463815);+(561738,561760);+(584145,584167);+(633611,633633);+(659931,659953);+(688014,688036);+(782749,782771);+(806813,806835);+(839961,839983);+(1062470,1062492);+(1291483,1291505);+(1296222,1296244);+(1338483,1338505);+(1698598,1698620);+(1751021,1751043);+(1807683,1807705);+(1857577,1857599);+(2087209,2087231);+(2089945,2089967);+(2175723,2175745);-(42316,42338);-(99247,99269);-(130104,130126);-(160565,160587);-(254616,254638);-(255603,255625);-(424447,424469);-(475612,475634);-(532221,532243);-(546605,546627);-(550335,550357);-(571429,571451);-(699658,699680);-(788099,788121);-(797497,797519);-(1073920,1073942);-(1098448,1098470);-(1169810,1169832);-(1395535,1395557);-(1470745,1470767);-(1583676,1583698);-(1661629,1661651);-(1687495,1687517);-(1737858,1737880);-(1805045,1805067);-(1832840,1832862);-(1839358,1839380);-(1841161,1841183);-(1894404,1894426);-(2072009,2072031);-(2112330,2112352);-(2162101,2162123)\"}]},{\"sequence\":\"AAAACACTGTTTTGAGGTTGTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(83146,83168);+(109304,109326);+(148852,148874);+(460726,460748);+(556722,556744);+(561695,561717);+(633523,633545);+(687971,687993);+(813083,813105);+(813128,813150);+(813173,813195);+(1022237,1022259);+(1561348,1561370);+(1698420,1698442);+(1784336,1784358);+(1807643,1807665);+(1857534,1857556);+(2087166,2087188);-(87439,87461);-(788142,788164);-(1098491,1098513);-(1637059,1637081);-(1661717,1661739);-(2083640,2083662);-(2097147,2097169)\"}]},{\"sequence\":\"CAAACTAGGAAGCTAGCCGCAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(267714,267736);+(584131,584153);+(688000,688022);+(772672,772694);+(806799,806821);+(839947,839969);+(1062456,1062478);+(1296208,1296230);+(1305234,1305256);+(1594052,1594074);+(1698584,1698606);+(1857563,1857585);+(2087195,2087217);+(2089931,2089953);-(522480,522502);-(532235,532257);-(699672,699694);-(723830,723852);-(788113,788135);-(1073934,1073956);-(1098462,1098484);-(1395549,1395571);-(2072023,2072045);-(2083611,2083633)\"}]},{\"sequence\":\"CAGCTCAAAACACTGTTTTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(83152,83174);+(84879,84901);+(109310,109332);+(163458,163480);+(460732,460754);+(460777,460799);+(633529,633551);+(813089,813111);+(813134,813156);+(813179,813201);+(1022243,1022265);+(1022288,1022310);+(1291356,1291378);+(1291401,1291423);+(1561354,1561376);+(1698381,1698403);+(1698426,1698448);+(1784297,1784319);-(87478,87500);-(254698,254720);-(1661711,1661733);-(1737939,1737961);-(2131720,2131742)\"}]},{\"sequence\":\"TTGCTCAAAACACTGTTTTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(84924,84946);+(148858,148880);+(351641,351663);+(405505,405527);+(414317,414339);+(556728,556750);+(561701,561723);+(772649,772671);+(1784342,1784364);+(1857540,1857562);+(2087172,2087194);+(2175686,2175708);-(788136,788158);-(1098485,1098507);-(1432951,1432973);-(1832877,1832899);-(1841198,1841220);-(1889073,1889095);-(2083634,2083656);-(2097141,2097163)\"}]},{\"sequence\":\"GATAAGTTTGATGAGATTATTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192849,1192871);+(1408161,1408183);+(1866069,1866091);+(1877791,1877813);+(2108259,2108281);-(14492,14514);-(22817,22839);-(107887,107909);-(119218,119240);-(251010,251032);-(495065,495087);-(521093,521115);-(680446,680468);-(708488,708510);-(763453,763475);-(984851,984873);-(1686721,1686743);-(2082324,2082346)\"}]},{\"sequence\":\"CAGCTCAAAACATGGTTTTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(2087082,2087104);+(2087127,2087149);+(2089863,2089885);-(295337,295359);-(424529,424551);-(571511,571533);-(571556,571578);-(2083679,2083701);-(2083724,2083746);-(2083769,2083791);-(2083814,2083836);-(2083859,2083881);-(2083904,2083926);-(2083949,2083971);-(2083994,2084016);-(2084039,2084061);-(2084084,2084106)\"}]},{\"sequence\":\"ACAGTGTTTTGAGCAACCTGCGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(788129,788151);+(1098478,1098500);+(1432944,1432966);+(1832870,1832892);+(1889066,1889088);+(2083627,2083649);+(2097134,2097156);-(148865,148887);-(556735,556757);-(561708,561730);-(772656,772678);-(967645,967667);-(1784349,1784371);-(1857547,1857569);-(2087179,2087201);-(2089915,2089937);-(2175693,2175715)\"}]},{\"sequence\":\"TAACAATGTTTTAGAAGTAGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(483882,483904);+(649007,649029);+(816478,816500);+(1003979,1004001);+(1014113,1014135);+(1088083,1088105);+(1167748,1167770);+(1795747,1795769);+(1798461,1798483);-(171631,171653);-(556368,556390);-(632314,632336);-(1053499,1053521);-(1102506,1102528);-(1764068,1764090);-(1774103,1774125);-(1961244,1961266)\"}]},{\"sequence\":\"CAAACTAGGAAACTAGCCGCAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(48292,48314);+(148881,148903);+(556751,556773);+(561724,561746);+(659917,659939);+(967661,967683);+(1751007,1751029);-(254630,254652);-(255617,255639);-(475626,475648);-(571443,571465);-(1432928,1432950);-(1470759,1470781);-(1583690,1583712);-(1687509,1687531);-(1805059,1805081);-(1832854,1832876)\"}]},{\"sequence\":\"GACGAAGTCAGCTCAAAACATGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(2087090,2087112);+(2089871,2089893);-(295329,295351);-(424521,424543);-(571503,571525);-(571548,571570);-(2083671,2083693);-(2083716,2083738);-(2083761,2083783);-(2083806,2083828);-(2083851,2083873);-(2083896,2083918);-(2083941,2083963);-(2083986,2084008);-(2084031,2084053);-(2084076,2084098)\"}]},{\"sequence\":\"CTATCACTGTTCAAAAATGATGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(15373,15395);+(108768,108790);+(120099,120121);+(251891,251913);+(521974,521996);+(681327,681349);+(709369,709391);+(764380,764402);+(985802,985824);+(2083205,2083227);-(1191968,1191990);-(1407210,1407232);-(1865138,1865160);-(1876840,1876862);-(2107378,2107400)\"}]},{\"sequence\":\"ACTTTGAAAACTTCAAAAAACGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(14444,14466);+(107839,107861);+(119170,119192);+(250962,250984);+(521045,521067);+(708440,708462);+(763405,763427);+(984803,984825);+(1686673,1686695);+(2082276,2082298);-(1192897,1192919);-(1408209,1408231);-(1866117,1866139);-(1877839,1877861);-(2108307,2108329)\"}]},{\"sequence\":\"GGTTGATGATACGAGGGATTTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192022,1192044);+(1407264,1407286);+(1865192,1865214);+(1876894,1876916);+(2107432,2107454);-(15319,15341);-(108714,108736);-(120045,120067);-(251837,251859);-(521920,521942);-(681273,681295);-(709315,709337);-(764326,764348);-(985748,985770);-(2083151,2083173)\"}]},{\"sequence\":\"TTCAGCATCAACGAGTGCTTCGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1723971,1723993);+(1724631,1724653);+(1725627,1725649);+(1726083,1726105);+(1726635,1726657);+(1727391,1727413);+(1727847,1727869);+(1728303,1728325);+(1729299,1729321);+(1729755,1729777);+(1730853,1730875);+(1731309,1731331);+(1732845,1732867);+(1733199,1733221)\"}]},{\"sequence\":\"CAGCTCAAAACACCGTTTTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(485351,485373);+(485396,485418);+(485441,485463);+(1698471,1698493);+(1698516,1698538);-(42398,42420);-(42443,42465);-(130186,130208);-(1637098,1637120);-(1637143,1637165);-(1637188,1637210);-(1637233,1637255);-(1637278,1637300);-(1637323,1637345)\"}]},{\"sequence\":\"ATTTTTTGGTTGATGATACGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1407271,1407293);+(1865199,1865221);+(1876901,1876923);+(2107439,2107461);-(15312,15334);-(108707,108729);-(120038,120060);-(251830,251852);-(521913,521935);-(681266,681288);-(709308,709330);-(985741,985763);-(2083144,2083166)\"}]},{\"sequence\":\"TTTTTTGGTTGATGATACGAGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1407270,1407292);+(1865198,1865220);+(1876900,1876922);+(2107438,2107460);-(15313,15335);-(108708,108730);-(120039,120061);-(251831,251853);-(521914,521936);-(681267,681289);-(709309,709331);-(985742,985764);-(2083145,2083167)\"}]},{\"sequence\":\"GGCTCTATAATATTTGTAGTGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(15742,15764);+(109137,109159);+(120468,120490);+(252260,252282);+(496257,496279);+(522343,522365);+(709738,709760);+(764748,764770);+(2083574,2083596);-(1406841,1406863);-(1864769,1864791);-(1876472,1876494);-(2107009,2107031)\"}]},{\"sequence\":\"TTAAAGACAGTCTGAAAAATAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192752,1192774);+(1408064,1408086);+(1865972,1865994);+(1877694,1877716);+(2108162,2108184);-(107984,108006);-(119315,119337);-(495162,495184);-(521190,521212);-(680543,680565);-(708585,708607);-(984948,984970);-(1686818,1686840)\"}]},{\"sequence\":\"GGCTCTTTGTCAACTGTAGTGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192990,1193012);+(1408303,1408325);+(1866211,1866233);+(1877932,1877954);+(2108401,2108423);-(107745,107767);-(119076,119098);-(520951,520973);-(680305,680327);-(708346,708368);-(763312,763334);-(984710,984732)\"}]},{\"sequence\":\"TAGTAAAATGAAATAAGAACAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(211899,211921);+(297974,297996);+(578694,578716);+(1737163,1737185);+(2130884,2130906);-(171595,171617);-(890947,890969);-(1053459,1053481);-(1173309,1173331);-(1662086,1662108);-(1961190,1961212);-(2192937,2192959)\"}]},{\"sequence\":\"TTAACTTTTGAGCAATTTTTTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1407285,1407307);+(1876915,1876937);+(2107453,2107475);-(15298,15320);-(108693,108715);-(120024,120046);-(251816,251838);-(521899,521921);-(681252,681274);-(709294,709316);-(985727,985749);-(2083130,2083152)\"}]},{\"sequence\":\"ATTATTGGTCGCTTCCAATTTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192834,1192856);+(1408146,1408168);+(2108244,2108266);-(14507,14529);-(107902,107924);-(119233,119255);-(251025,251047);-(521108,521130);-(708503,708525);-(763468,763490);-(984866,984888);-(2082339,2082361)\"}]},{\"sequence\":\"GAAATTTTTCGGACTCATTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(14632,14654);+(108027,108049);+(119358,119380);+(251150,251172);+(521233,521255);+(680586,680608);+(708628,708650);+(2082464,2082486);-(1408021,1408043);-(1877651,1877673);-(2108119,2108141)\"}]},{\"sequence\":\"TGTTTAGCCAAGTCATAGTAAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1407627,1407649);+(1865535,1865557);+(1877257,1877279);+(2107775,2107797);-(108371,108393);-(119702,119724);-(521577,521599);-(680930,680952);-(708972,708994);-(985385,985407);-(1687255,1687277)\"}]},{\"sequence\":\"TGATGCCGATTCAGACGCTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1725280,1725302);-(1726120,1726142);-(1727044,1727066);-(1727884,1727906);-(1728952,1728974);-(1729792,1729814);-(1730506,1730528);-(1731346,1731368);-(1731988,1732010);-(1733260,1733282);-(1733536,1733558)\"}]},{\"sequence\":\"GCTTTTCATTATAGGTCATATGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1406914,1406936);+(1876544,1876566);+(2107082,2107104);-(109064,109086);-(120395,120417);-(137020,137042);-(522270,522292);-(681623,681645);-(709665,709687);-(764676,764698);-(986098,986120)\"}]},{\"sequence\":\"ACTGGTACTTGCTGAGGCTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1724374,1724396);-(1724470,1724492);-(1726144,1726166);-(1726378,1726400);-(1726474,1726496);-(1727908,1727930);-(1728142,1728164);-(1728238,1728260);-(1729816,1729838);-(1731370,1731392);-(1733110,1733132)\"}]},{\"sequence\":\"CTTTTCATTATAGGTCATATGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1406913,1406935);+(1876543,1876565);+(2107081,2107103);-(109065,109087);-(120396,120418);-(137021,137043);-(522271,522293);-(681624,681646);-(709666,709688);-(764677,764699);-(986099,986121)\"}]},{\"sequence\":\"CTGCTCAAAACACTGTTTTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(48269,48291);+(267691,267713);+(413128,413150);+(460371,460393);+(687977,687999);-(42353,42375);-(87433,87455);-(431414,431436);-(797534,797556);-(1894441,1894463);-(2112367,2112389)\"}]},{\"sequence\":\"GCTTGCTGAAGCCGAAGCACTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1723576,1723598);-(1723696,1723718);-(1723936,1723958);-(1725208,1725230);-(1726972,1726994);-(1728880,1728902);-(1730434,1730456);-(1731916,1731938);-(1732570,1732592);-(1732810,1732832)\"}]},{\"sequence\":\"ACTCATTAGAAAGAATCATATGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(109032,109054);+(120363,120385);+(496153,496175);+(522238,522260);+(681591,681613);+(709633,709655);+(986066,986088);-(1406946,1406968);-(1876576,1876598);-(2107114,2107136)\"}]},{\"sequence\":\"CACGCACACGACTCATAGCACGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192445,1192467);+(1407757,1407779);+(1865665,1865687);+(1877387,1877409);-(14896,14918);-(251414,251436);-(495469,495491);-(985255,985277);-(1687125,1687147);-(2082728,2082750)\"}]},{\"sequence\":\"CTTATCAAGCGCAATGCCTTTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(14475,14497);+(250993,251015);+(495048,495070);+(984834,984856);+(1686704,1686726);+(2082307,2082329);-(1192866,1192888);-(1408178,1408200);-(1866086,1866108);-(1877808,1877830)\"}]},{\"sequence\":\"ACTTGAAACGGCGTTTTCTAAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1407186,1407208);+(1865114,1865136);+(1876816,1876838);+(2107354,2107376);-(108792,108814);-(120123,120145);-(521998,522020);-(681351,681373);-(709393,709415);-(985826,985848)\"}]},{\"sequence\":\"AAGAACAGGACAAATCGATCAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(295265,295287);+(483922,483944);+(816518,816540);+(1737149,1737171);+(2130870,2130892);-(361882,361904);-(890961,890983);-(1102466,1102488);-(1173323,1173345);-(2192951,2192973)\"}]},{\"sequence\":\"AACAGTGATAGCACTTGAAACGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1407198,1407220);+(1865126,1865148);+(1876828,1876850);+(2107366,2107388);-(108780,108802);-(120111,120133);-(521986,522008);-(681339,681361);-(709381,709403);-(985814,985836)\"}]},{\"sequence\":\"ACTTGTTGATGCTGAGGCTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1724566,1724588);-(1724734,1724756);-(1725022,1725044);-(1726570,1726592);-(1726738,1726760);-(1726786,1726808);-(1728406,1728428);-(1728694,1728716);-(1730056,1730078);-(1730248,1730270)\"}]},{\"sequence\":\"TTTCTAAGGAGAATTCTAGTAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1191930,1191952);+(1407172,1407194);+(1865100,1865122);+(1876802,1876824);-(15411,15433);-(251929,251951);-(496054,496076);-(764418,764440);-(985840,985862);-(2083243,2083265)\"}]},{\"sequence\":\"ACCCTATTCAAACGCCAAATTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(107916,107938);+(119247,119269);+(521122,521144);+(708517,708539);+(763482,763504);+(984880,984902);-(1192820,1192842);-(1408132,1408154);-(2108230,2108252)\"}]},{\"sequence\":\"TTCCAATTTGGCGTTTGAATAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192822,1192844);+(1408134,1408156);+(2108232,2108254);-(107914,107936);-(119245,119267);-(521120,521142);-(708515,708537);-(763480,763502);-(984878,984900)\"}]},{\"sequence\":\"ACTTGCTGAAGCCGAAGCACTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1724596,1724618);-(1724764,1724786);-(1725232,1725254);-(1726600,1726622);-(1726996,1727018);-(1728436,1728458);-(1728904,1728926);-(1730086,1730108);-(1730458,1730480)\"}]},{\"sequence\":\"TTCAAAGTTCCGAAAACCAAAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192882,1192904);+(1408194,1408216);+(1866102,1866124);+(1877824,1877846);-(14459,14481);-(250977,250999);-(763420,763442);-(984818,984840);-(2082291,2082313)\"}]},{\"sequence\":\"GTTTGAATAGGGTAGTTGAAGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192810,1192832);+(1408122,1408144);+(2108220,2108242);-(107926,107948);-(119257,119279);-(521132,521154);-(708527,708549);-(763492,763514);-(984890,984912)\"}]},{\"sequence\":\"TCCAATTTGGCGTTTGAATAGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192821,1192843);+(1408133,1408155);+(2108231,2108253);-(107915,107937);-(119246,119268);-(521121,521143);-(708516,708538);-(763481,763503);-(984879,984901)\"}]},{\"sequence\":\"TAATAATTTTGACGCGACATCGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192325,1192347);+(1407587,1407609);+(1877217,1877239);-(15016,15038);-(251534,251556);-(495639,495661);-(985425,985447);-(1687295,1687317);-(2082848,2082870)\"}]},{\"sequence\":\"ACTTGCTGAGGCTGAGGCGCTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1722010,1722032);-(1724380,1724402);-(1726150,1726172);-(1726384,1726406);-(1727914,1727936);-(1728148,1728170);-(1729822,1729844);-(1731376,1731398);-(1733116,1733138)\"}]},{\"sequence\":\"TTTGGTGATTTTTCTTTACCAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1407246,1407268);+(1876876,1876898);+(2107414,2107436);-(108732,108754);-(120063,120085);-(521938,521960);-(681291,681313);-(709333,709355);-(985766,985788)\"}]},{\"sequence\":\"GATGGTTGCTGAGACTCCCCTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(108750,108772);+(120081,120103);+(521956,521978);+(681309,681331);+(709351,709373);+(985784,985806);-(1407228,1407250);-(1876858,1876880);-(2107396,2107418)\"}]},{\"sequence\":\"CCGTACTCAAGTACAGCCTGCGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(255633,255655);+(475642,475664);+(1169840,1169862);+(1687525,1687547);-(96341,96363);-(839931,839953);-(989011,989033);-(1062440,1062462);-(1750991,1751013)\"}]},{\"sequence\":\"CCGCAGGCTGTACTTGAGTACGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(96341,96363);+(839931,839953);+(989011,989033);+(1062440,1062462);+(1750991,1751013);-(255633,255655);-(475642,475664);-(1169840,1169862);-(1687525,1687547)\"}]},{\"sequence\":\"TCGCGTCAAAATTATTACTATGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(15010,15032);+(251528,251550);+(495633,495655);+(985419,985441);+(1687289,1687311);+(2082842,2082864);-(1192331,1192353);-(1407593,1407615);-(1877223,1877245)\"}]},{\"sequence\":\"ACAAGGCTATCAAGCGCTACTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(14834,14856);+(23095,23117);+(251352,251374);+(495407,495429);+(763771,763793);+(1687063,1687085);+(2082666,2082688);-(1192507,1192529);-(1865727,1865749)\"}]},{\"sequence\":\"TGGTGATTTTTCTTTACCAGGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1407244,1407266);+(1876874,1876896);+(2107412,2107434);-(108734,108756);-(120065,120087);-(521940,521962);-(681293,681315);-(709335,709357);-(985768,985790)\"}]},{\"sequence\":\"TTCAGCGTCAACCAGTGCCTCGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1725795,1725817);+(1725867,1725889);+(1727559,1727581);+(1727631,1727653);+(1729467,1729489);+(1729539,1729561);+(1731021,1731043);+(1731093,1731115);+(1732101,1732123)\"}]},{\"sequence\":\"CAAGAGTTACTTCAACCCATTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(951756,951778);+(1892793,1892815);+(2111216,2111238);-(809490,809512);-(844844,844866);-(1072637,1072659);-(1171390,1171412);-(1672902,1672924);-(2048132,2048154)\"}]},{\"sequence\":\"CGTTTGAATAGGGTAGTTGAAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192811,1192833);+(1408123,1408145);+(2108221,2108243);-(107925,107947);-(119256,119278);-(521131,521153);-(708526,708548);-(763491,763513);-(984889,984911)\"}]},{\"sequence\":\"TTGGTGATTTTTCTTTACCAGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1407245,1407267);+(1876875,1876897);+(2107413,2107435);-(108733,108755);-(120064,120086);-(521939,521961);-(681292,681314);-(709334,709356);-(985767,985789)\"}]},{\"sequence\":\"GTTTTGTCGCTTTTCATTATAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1406922,1406944);+(1876552,1876574);+(2107090,2107112);-(109056,109078);-(120387,120409);-(522262,522284);-(681615,681637);-(709657,709679);-(986090,986112)\"}]},{\"sequence\":\"TCCGCACTCAGGGCAAGATGGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1191841,1191863);+(1407083,1407105);+(1876713,1876735);-(15500,15522);-(252018,252040);-(764507,764529);-(985929,985951);-(2083332,2083354)\"}]},{\"sequence\":\"TTGCTCAAAGCACTGCTTTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(261461,261483);+(659894,659916);+(806776,806798);-(130141,130163);-(738356,738378);-(908660,908682);-(1134408,1134430);-(1583713,1583735)\"}]},{\"sequence\":\"AGAGTTGATAGATCTGATAGTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1407967,1407989);+(1877597,1877619);+(2108065,2108087);-(108081,108103);-(119412,119434);-(521287,521309);-(680640,680662);-(708682,708704)\"}]},{\"sequence\":\"AATATCATCACTGTTCTTGAGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(15090,15112);+(251608,251630);+(985499,985521);+(1687369,1687391);+(2082922,2082944);-(1407513,1407535);-(1865421,1865443);-(1877143,1877165)\"}]},{\"sequence\":\"TAAATCCCCTATGGATATTATGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(109114,109136);+(120445,120467);+(522320,522342);+(709715,709737);+(764725,764747);-(1191622,1191644);-(1864792,1864814);-(2107032,2107054)\"}]},{\"sequence\":\"GGCTGTACTTGAGTACGGCAAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(96336,96358);+(839926,839948);+(989006,989028);+(1062435,1062457);-(255638,255660);-(475647,475669);-(1169845,1169867);-(1687530,1687552)\"}]},{\"sequence\":\"TTCCGCACTCAGGGCAAGATGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1191842,1191864);+(1407084,1407106);+(1876714,1876736);-(15499,15521);-(252017,252039);-(764506,764528);-(985928,985950);-(2083331,2083353)\"}]},{\"sequence\":\"TGATGCTGAAGCCGACGCACTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1723816,1723838);-(1725952,1725974);-(1727716,1727738);-(1729624,1729646);-(1730014,1730036);-(1731178,1731200);-(1731568,1731590);-(1732690,1732712)\"}]},{\"sequence\":\"TGATGCGGAAGCTGACGCACTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1722058,1722080);-(1723744,1723766);-(1726048,1726070);-(1727812,1727834);-(1729720,1729742);-(1731274,1731296);-(1732138,1732160);-(1732618,1732640)\"}]},{\"sequence\":\"ACGGCAAGGCGACGTTGACGTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(48211,48233);+(109253,109275);+(556669,556691);+(561642,561664);-(42503,42525);-(255652,255674);-(475661,475683);-(1539723,1539745)\"}]},{\"sequence\":\"AGTTGAGATGGAAAGCTGATGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192093,1192115);+(1407335,1407357);+(1876965,1876987);-(15248,15270);-(251766,251788);-(764255,764277);-(985677,985699);-(2083080,2083102)\"}]},{\"sequence\":\"CTTCAACCCATTGGCTCCGACGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(951747,951769);+(1892784,1892806);+(2111207,2111229);-(809499,809521);-(844853,844875);-(1072646,1072668);-(1171399,1171421);-(1672911,1672933)\"}]},{\"sequence\":\"AAAGACCCTGAGAAATTTTTCGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(108038,108060);+(119369,119391);+(521244,521266);+(680597,680619);+(708639,708661);-(1408010,1408032);-(1877640,1877662);-(2108108,2108130)\"}]},{\"sequence\":\"TGTAGTGGGTAAATCCCCTATGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(109123,109145);+(120454,120476);+(522329,522351);+(709724,709746);+(764734,764756);-(1191613,1191635);-(1864783,1864805);-(2107023,2107045)\"}]},{\"sequence\":\"ATGAGTCCGAAAAATTTCTCAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1408016,1408038);+(1877646,1877668);+(2108114,2108136);-(108032,108054);-(119363,119385);-(521238,521260);-(680591,680613);-(708633,708655)\"}]},{\"sequence\":\"TTCAGCAAGCACCAGTGCTTCGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1723587,1723609);+(1723707,1723729);+(1723947,1723969);+(1724607,1724629);+(1726611,1726633);+(1730097,1730119);+(1732581,1732603);+(1732821,1732843)\"}]},{\"sequence\":\"GCTTGCTGAAGCCGACGCACTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1725328,1725350);-(1725736,1725758);-(1727092,1727114);-(1727500,1727522);-(1729000,1729022);-(1729408,1729430);-(1730554,1730576);-(1730962,1730984)\"}]},{\"sequence\":\"TGAGTCCGAAAAATTTCTCAGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1408015,1408037);+(1877645,1877667);+(2108113,2108135);-(108033,108055);-(119364,119386);-(521239,521261);-(680592,680614);-(708634,708656)\"}]},{\"sequence\":\"AAAAAAGCTAAGCTCGAGAAAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(2108374,2108396);-(14377,14399);-(107772,107794);-(119103,119125);-(250895,250917);-(520978,521000);-(708373,708395);-(2082209,2082231)\"}]},{\"sequence\":\"TTCAGCGTCAACGAGTGCTTCGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1721733,1721755);+(1724919,1724941);+(1725093,1725115);+(1726857,1726879);+(1728591,1728613);+(1728765,1728787);+(1730145,1730167);+(1730319,1730341)\"}]},{\"sequence\":\"CATTGAGGACAATCTGAAGCAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(108012,108034);+(119343,119365);+(521218,521240);+(680571,680593);+(708613,708635);-(1408036,1408058);-(1877666,1877688);-(2108134,2108156)\"}]},{\"sequence\":\"TGACGCTGAAGCTGACGCACTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1724932,1724954);-(1725880,1725902);-(1727644,1727666);-(1728604,1728626);-(1729552,1729574);-(1730158,1730180);-(1731106,1731128);-(1733140,1733162)\"}]},{\"sequence\":\"AAGTTGAGATGGAAAGCTGATGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1192094,1192116);+(1407336,1407358);+(1876966,1876988);-(15247,15269);-(251765,251787);-(764254,764276);-(985676,985698);-(2083079,2083101)\"}]},{\"sequence\":\"GAAGTAACTCTTGTTCAAAGTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(809480,809502);+(844834,844856);+(1072627,1072649);+(1171380,1171402);+(2048122,2048144);-(972461,972483);-(1892803,1892825);-(2111226,2111248)\"}]},{\"sequence\":\"TAGTAAAATGAAATAATAACAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1004033,1004055);-(38607,38629);-(344292,344314);-(433598,433620);-(684305,684327);-(1764014,1764036);-(1774049,1774071);-(1954504,1954526)\"}]},{\"sequence\":\"CAATATCATCACTGTTCTTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(15091,15113);+(251609,251631);+(985500,985522);+(1687370,1687392);+(2082923,2082945);-(1407512,1407534);-(1865420,1865442);-(1877142,1877164)\"}]},{\"sequence\":\"ATACCAGTCGTTTCAAGATAAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1191906,1191928);+(1407148,1407170);+(1865076,1865098);+(1876778,1876800);-(15435,15457);-(251953,251975);-(985864,985886);-(2083267,2083289)\"}]},{\"sequence\":\"TCAAGATAAGGAATTTTAGAAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1191894,1191916);+(1407136,1407158);+(1865064,1865086);+(1876766,1876788);-(15447,15469);-(251965,251987);-(985876,985898);-(2083279,2083301)\"}]},{\"sequence\":\"GAATCAGGTTCAATGGCTACTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(2108581,2108603);+(2108641,2108663);+(2108701,2108723);+(2108761,2108783);+(2108821,2108843);+(2108881,2108903);+(2108941,2108963);+(2109001,2109023)\"}]},{\"sequence\":\"ATTCCTTATCTTGAAACGACTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(15438,15460);+(251956,251978);+(985867,985889);+(2083270,2083292);-(1191903,1191925);-(1407145,1407167);-(1865073,1865095);-(1876775,1876797)\"}]},{\"sequence\":\"AACTAGGATTCTAGTTTTGCAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(844307,844329);+(1072103,1072125);+(1170857,1170879);+(1672367,1672389);+(2047617,2047639);-(47196,47218);-(972983,973005);-(1893326,1893348)\"}]},{\"sequence\":\"CAGGTTCAATGGCTACTGGTTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(2108577,2108599);+(2108637,2108659);+(2108697,2108719);+(2108757,2108779);+(2108817,2108839);+(2108877,2108899);+(2108937,2108959);+(2108997,2109019)\"}]},{\"sequence\":\"GCTTGCTGAGGCTGACGCACTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1722850,1722872);-(1723456,1723478);-(1724788,1724810);-(1725520,1725542);-(1727284,1727306);-(1728460,1728482);-(1729192,1729214);-(1730746,1730768)\"}]},{\"sequence\":\"AGCGCAATGCCTTTGGTTTTCGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(14468,14490);+(250986,251008);+(984827,984849);+(2082300,2082322);-(1192873,1192895);-(1408185,1408207);-(1866093,1866115);-(1877815,1877837)\"}]},{\"sequence\":\"GCCCCATCTTGCCCTGAGTGCGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(15501,15523);+(252019,252041);+(985930,985952);+(2083333,2083355);-(1191840,1191862);-(1407082,1407104);-(1876712,1876734)\"}]},{\"sequence\":\"TGAAGCACTTGTTGATGCTGAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"-(1722142,1722164);-(1724560,1724582);-(1724728,1724750);-(1726564,1726586);-(1726732,1726754);-(1728400,1728422);-(1730050,1730072)\"}]},{\"sequence\":\"ACTGGTTGGGTTAAAGACAAAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(2108623,2108645);+(2108683,2108705);+(2108743,2108765);+(2108803,2108825);+(2108863,2108885);+(2108923,2108945);+(2108983,2109005)\"}]},{\"sequence\":\"GAAAGTCATATTTCTTCAATTGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(1407108,1407130);+(1865036,1865058);+(1876738,1876760);-(15475,15497);-(251993,252015);-(985904,985926);-(2083307,2083329)\"}]},{\"sequence\":\"GCGTTTACGATGATTTCGATAGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(47130,47152);+(972917,972939);+(1893260,1893282);+(2111546,2111568);-(1072169,1072191);-(1672433,1672455);-(2047683,2047705)\"}]},{\"sequence\":\"AGTTGAAATGGCCAGCTGATGGG\",\"in\":[{\"org\":\"Streptococcus pneumoniae ATCC 700669 GCF_000026665.1\",\"coords\":\"+(2107503,2107525);-(108643,108665);-(119974,119996);-(495891,495913);-(521849,521871);-(681202,681224);-(709244,709266)\"}]}]"
	#return jsonify(dirtyString,"Pseudomonas putida KT2440 GCF_000007565.2","aea6c1e6-5811-11e7-8c72-842b2b716ace")

	#Genomes_IN and NOT_IN lists parsing.
	gi=request.args.get('gi',0).strip('[]').split(',')
	print('gi1',gi)
	gi=[i.strip('"\\n\\t') for i in gi]
	gi='"'+'+'.join(gi)+'"'	#Spaces escaped in argument using '"' character.
	gni=request.args.get('gni',0).strip('[]').split(',')
	gni=[i.strip('"\\n\\t') for i in gni]
	gni='"'+'+'.join(gni)+'"'
	print(gni)

	#Other parameters parsing

	pam=request.args.get('pam',0)
	pam=str(pam)
	pam=pam.replace('"','')

	sgrna_length=request.args.get('sgrna_length',0)
	sgrna_length=str(sgrna_length)
	sgrna_length=sgrna_length.replace('"','')

	command=PYTHON_INTERPRETER + " " + ROOT_FOLDER + "/scripts/allgenomes.py -cah " + CACHE_FOLDER + " -rfg " + DATA_FOLDER + "/reference_genomes -gi " + gi + " -gni " + gni + " -pam " + pam + " -sl " + sgrna_length
	print(command)
	output=os.popen(command,'r')
	lines=output.readlines()
	for line in lines:
		if "Program terminated" in line:
			error_split=line.split('&')
			info=error_split[1].rstrip("\n]")
			return jsonify("Search yielded no results.",info)
	else:
		tag=lines[0].strip()
		res=lines[1].strip()
		not_in=lines[2].strip()
		return jsonify(res,not_in,tag)


@app.route('/download', defaults={'path': ''})
@app.route('/download/<path:path>')
def downloadResultFile(path):
	print ('Trying to server download request w/ key : %s' % path)

	filePath = CACHE_FOLDER + '/' + path + '/results_allgenome.txt'
	return send_file(filePath, mimetype='plain/text')


#@app.route('/download/aea6c1e6-5811-11e7-8c72-842b2b716ace')
#def downloadResultFile():
	#print(str(request.args))
#	print("download route")
#	print(request.args.lists()[0])


@app.route('/hello')
def hello():
    return 'Hello, World'



@app.route('/specific_gene')
def ret_specific_gene():

	#Seq treatment
	seq=request.args.get('seq',0).strip('"')
	seq=str(seq)	## NB THIS REQUIRES PROPER FASTA FORMATTING IN JAVASCRIPT.

	#Gin and Gnotin treatment
	gref=request.args.get('gref',0).strip('[]').replace('"','')
	gin=request.args.get('gin',0).strip('[]').split(',')	##Relies on having no ',' in the organism names.
	gin=[genome.strip('"\\n\\t') for genome in gin]
	gin.insert(0,gref)##Places genome of origin at first position of genomes in list.
	gin='"'+'+'.join(gin)+'"'
	gin=gin.rstrip('+"')+'"' #delete + at the end of the string if there is only one genome


	gnotin=request.args.get('gnotin',0).strip('[]').split(',')
	gnotin=[genome.strip('"\\n\\t') for genome in gnotin]
	gnotin='"'+'+'.join(gnotin)+'"'


	#Other parameters
	n=request.args.get('n',0)
	n=str(n)
	n=n.replace('"','')

	percent_id=request.args.get('pid',0)
	percent_id=str(percent_id)
	percent_id=percent_id.replace('"','')

	max_mismatch=request.args.get('max_mismatch',0)
	max_mismatch=str(max_mismatch)
	max_mismatch=max_mismatch.replace('"','')

	pam=request.args.get('pam',0)
	pam=str(pam)
	pam=pam.replace('"','')

	sgrna_length=request.args.get('sgrna_length',0)
	sgrna_length=str(sgrna_length)
	sgrna_length=sgrna_length.replace('"','')

	mm_og=request.args.get('max_mm_og',0)
	mm_og=str(mm_og)
	mm_og=mm_og.replace('"','')

	mm_nin=request.args.get('max_mm_notin',0)
	mm_nin=str(mm_nin)
	mm_nin=mm_nin.replace('"','')

	command=PYTHON_INTERPRETER + " " + ROOT_FOLDER + "/scripts/specificgene.py -seq " + seq + " -gi " + gin + " -gni " + gnotin + " -n " + n + " -ip " + percent_id + " -mm " + max_mismatch + " -pam " + pam + " -sl " + sgrna_length + " -mmog " + mm_og + " -mmnin " + mm_nin

	output=os.popen(command,'r')
	all_lines=output.readlines()	##List containing all print statements in specific gene script.
	#print(all_lines)
	for line in all_lines:
		if "Program terminated" in line:
			error_split=line.split('&')
			info=error_split[1].rstrip("\n]")
			return jsonify("Search yielded no results.",info)
	else:
		tag=all_lines[-2].rstrip()
		json_string=all_lines[-1].rstrip('\n')
		print(json_string)
		return jsonify(json_string,tag,'')
